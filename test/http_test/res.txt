=== RUN   TestDescribeDevice
=== RUN   TestDescribeDevice/Describe_device
{"level":"info","ts":1666199731.299489,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"POST /api/v1/devices HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Ios\",\"userId\":\"111\"}\n","url":"http://127.0.0.1:8080/api/v1/devices"}
{"level":"info","ts":1666199731.3217971,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTgNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTozMSBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImRldmljZUlkIjoiMTE5In0=","url":"http://127.0.0.1:8080/api/v1/devices","status_code":200}
{"level":"info","ts":1666199731.321866,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"GET /api/v1/devices/119 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices/119"}
{"level":"info","ts":1666199731.3298602,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogOTYNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTozMSBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7InZhbHVlIjp7ImlkIjoiMTE5IiwicGxhdGZvcm0iOiJJb3MiLCJ1c2VySWQiOiIxMTEiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE5VDE3OjE1OjMxLjMxMDE1MFoifX0=","url":"http://127.0.0.1:8080/api/v1/devices/119","status_code":200}
=== RUN   TestDescribeDevice/Describe_device#01
{"level":"info","ts":1666199731.330029,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"POST /api/v1/devices HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Android\",\"userId\":\"999\"}\n","url":"http://127.0.0.1:8080/api/v1/devices"}
{"level":"info","ts":1666199731.335273,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTgNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTozMSBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImRldmljZUlkIjoiMTIwIn0=","url":"http://127.0.0.1:8080/api/v1/devices","status_code":200}
{"level":"info","ts":1666199731.3353128,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"GET /api/v1/devices/120 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices/120"}
{"level":"info","ts":1666199731.338185,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTAwDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24NCkRhdGU6IFdlZCwgMTkgT2N0IDIwMjIgMTc6MTU6MzEgR01UDQpHcnBjLU1ldGFkYXRhLUNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vZ3JwYw0KU2VydmVyOiBuZ2lueC8xLjIwLjINCg0KeyJ2YWx1ZSI6eyJpZCI6IjEyMCIsInBsYXRmb3JtIjoiQW5kcm9pZCIsInVzZXJJZCI6Ijk5OSIsImVudGVyZWRBdCI6IjIwMjItMTAtMTlUMTc6MTU6MzEuMzMzNjU3WiJ9fQ==","url":"http://127.0.0.1:8080/api/v1/devices/120","status_code":200}
=== RUN   TestDescribeDevice/Describe_device#02
{"level":"info","ts":1666199731.33831,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"POST /api/v1/devices HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Ubuntu\",\"userId\":\"555\"}\n","url":"http://127.0.0.1:8080/api/v1/devices"}
{"level":"info","ts":1666199731.343907,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTgNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTozMSBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImRldmljZUlkIjoiMTIxIn0=","url":"http://127.0.0.1:8080/api/v1/devices","status_code":200}
{"level":"info","ts":1666199731.343951,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"GET /api/v1/devices/121 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices/121"}
{"level":"info","ts":1666199731.347766,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogOTkNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTozMSBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7InZhbHVlIjp7ImlkIjoiMTIxIiwicGxhdGZvcm0iOiJVYnVudHUiLCJ1c2VySWQiOiI1NTUiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE5VDE3OjE1OjMxLjM0MjAxM1oifX0=","url":"http://127.0.0.1:8080/api/v1/devices/121","status_code":200}
--- PASS: TestDescribeDevice (0.05s)
    --- PASS: TestDescribeDevice/Describe_device (0.03s)
    --- PASS: TestDescribeDevice/Describe_device#01 (0.01s)
    --- PASS: TestDescribeDevice/Describe_device#02 (0.01s)
=== RUN   TestListDevices
=== RUN   TestListDevices/Get_devices
{"level":"info","ts":1666199731.3479521,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"GET /api/v1/devices?page=1&perPage=10 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices?page=1&perPage=10"}
{"level":"info","ts":1666199731.3519502,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogOTA1DQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24NCkRhdGU6IFdlZCwgMTkgT2N0IDIwMjIgMTc6MTU6MzEgR01UDQpHcnBjLU1ldGFkYXRhLUNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vZ3JwYw0KU2VydmVyOiBuZ2lueC8xLjIwLjINCg0KeyJpdGVtcyI6W3siaWQiOiIxMjEiLCJwbGF0Zm9ybSI6IlVidW50dSIsInVzZXJJZCI6IjU1NSIsImVudGVyZWRBdCI6IjIwMjItMTAtMTlUMTc6MTU6MzEuMzQyMDEzWiJ9LHsiaWQiOiIxMjAiLCJwbGF0Zm9ybSI6IkFuZHJvaWQiLCJ1c2VySWQiOiI5OTkiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE5VDE3OjE1OjMxLjMzMzY1N1oifSx7ImlkIjoiMTE5IiwicGxhdGZvcm0iOiJJb3MiLCJ1c2VySWQiOiIxMTEiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE5VDE3OjE1OjMxLjMxMDE1MFoifSx7ImlkIjoiMTE4IiwicGxhdGZvcm0iOiJVYnVudHUiLCJ1c2VySWQiOiI1NTUiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE5VDE3OjE0OjU4LjIyNTEwMloifSx7ImlkIjoiMTE3IiwicGxhdGZvcm0iOiJBbmRyb2lkIiwidXNlcklkIjoiOTk5IiwiZW50ZXJlZEF0IjoiMjAyMi0xMC0xOVQxNzoxNDo1OC4yMTg4MjBaIn0seyJpZCI6IjExNiIsInBsYXRmb3JtIjoiSW9zIiwidXNlcklkIjoiMTExIiwiZW50ZXJlZEF0IjoiMjAyMi0xMC0xOVQxNzoxNDo1OC4yMDc2NThaIn0seyJpZCI6IjExMiIsInBsYXRmb3JtIjoiVWJ1bnR1IiwidXNlcklkIjoiNTU1IiwiZW50ZXJlZEF0IjoiMjAyMi0xMC0xOVQxNjozMjowOC45NjczMTBaIn0seyJpZCI6IjExMSIsInBsYXRmb3JtIjoiQW5kcm9pZCIsInVzZXJJZCI6Ijk5OSIsImVudGVyZWRBdCI6IjIwMjItMTAtMTlUMTY6MzI6MDguOTQ5NDQyWiJ9LHsiaWQiOiIxMTAiLCJwbGF0Zm9ybSI6IklvcyIsInVzZXJJZCI6IjExMSIsImVudGVyZWRBdCI6IjIwMjItMTAtMTlUMTY6MzI6MDguOTMyMDYzWiJ9LHsiaWQiOiIxMDYiLCJwbGF0Zm9ybSI6IlVidW50dSIsInVzZXJJZCI6IjU1NSIsImVudGVyZWRBdCI6IjIwMjItMTAtMThUMTI6MjA6MDMuNzI5NjM5WiJ9XX0=","url":"http://127.0.0.1:8080/api/v1/devices?page=1&perPage=10","status_code":200}
=== RUN   TestListDevices/Get_devices#01
{"level":"info","ts":1666199731.3521469,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"GET /api/v1/devices?page=1&perPage=20 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices?page=1&perPage=20"}
{"level":"info","ts":1666199731.359406,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTc5NA0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uDQpEYXRlOiBXZWQsIDE5IE9jdCAyMDIyIDE3OjE1OjMxIEdNVA0KR3JwYy1NZXRhZGF0YS1Db250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2dycGMNClNlcnZlcjogbmdpbngvMS4yMC4yDQoNCnsiaXRlbXMiOlt7ImlkIjoiMTIxIiwicGxhdGZvcm0iOiJVYnVudHUiLCJ1c2VySWQiOiI1NTUiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE5VDE3OjE1OjMxLjM0MjAxM1oifSx7ImlkIjoiMTIwIiwicGxhdGZvcm0iOiJBbmRyb2lkIiwidXNlcklkIjoiOTk5IiwiZW50ZXJlZEF0IjoiMjAyMi0xMC0xOVQxNzoxNTozMS4zMzM2NTdaIn0seyJpZCI6IjExOSIsInBsYXRmb3JtIjoiSW9zIiwidXNlcklkIjoiMTExIiwiZW50ZXJlZEF0IjoiMjAyMi0xMC0xOVQxNzoxNTozMS4zMTAxNTBaIn0seyJpZCI6IjExOCIsInBsYXRmb3JtIjoiVWJ1bnR1IiwidXNlcklkIjoiNTU1IiwiZW50ZXJlZEF0IjoiMjAyMi0xMC0xOVQxNzoxNDo1OC4yMjUxMDJaIn0seyJpZCI6IjExNyIsInBsYXRmb3JtIjoiQW5kcm9pZCIsInVzZXJJZCI6Ijk5OSIsImVudGVyZWRBdCI6IjIwMjItMTAtMTlUMTc6MTQ6NTguMjE4ODIwWiJ9LHsiaWQiOiIxMTYiLCJwbGF0Zm9ybSI6IklvcyIsInVzZXJJZCI6IjExMSIsImVudGVyZWRBdCI6IjIwMjItMTAtMTlUMTc6MTQ6NTguMjA3NjU4WiJ9LHsiaWQiOiIxMTIiLCJwbGF0Zm9ybSI6IlVidW50dSIsInVzZXJJZCI6IjU1NSIsImVudGVyZWRBdCI6IjIwMjItMTAtMTlUMTY6MzI6MDguOTY3MzEwWiJ9LHsiaWQiOiIxMTEiLCJwbGF0Zm9ybSI6IkFuZHJvaWQiLCJ1c2VySWQiOiI5OTkiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE5VDE2OjMyOjA4Ljk0OTQ0MloifSx7ImlkIjoiMTEwIiwicGxhdGZvcm0iOiJJb3MiLCJ1c2VySWQiOiIxMTEiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE5VDE2OjMyOjA4LjkzMjA2M1oifSx7ImlkIjoiMTA2IiwicGxhdGZvcm0iOiJVYnVudHUiLCJ1c2VySWQiOiI1NTUiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE4VDEyOjIwOjAzLjcyOTYzOVoifSx7ImlkIjoiMTA1IiwicGxhdGZvcm0iOiJBbmRyb2lkIiwidXNlcklkIjoiOTk5IiwiZW50ZXJlZEF0IjoiMjAyMi0xMC0xOFQxMjoyMDowMy43MTk1NzJaIn0seyJpZCI6IjEwNCIsInBsYXRmb3JtIjoiSW9zIiwidXNlcklkIjoiMTExIiwiZW50ZXJlZEF0IjoiMjAyMi0xMC0xOFQxMjoyMDowMy42OTkzNzdaIn0seyJpZCI6IjEwMCIsInBsYXRmb3JtIjoiQW5kcm9pZCIsInVzZXJJZCI6IjMyMSIsImVudGVyZWRBdCI6IjIwMjItMTAtMThUMTI6MTE6NDguOTIzNjk3WiJ9LHsiaWQiOiI5OSIsInBsYXRmb3JtIjoiSW9zIiwidXNlcklkIjoiODc2IiwiZW50ZXJlZEF0IjoiMjAyMi0xMC0xOFQxMjoxMTo0OC45MTM0MzNaIn0seyJpZCI6Ijk4IiwicGxhdGZvcm0iOiJBbmRyb2lkIiwidXNlcklkIjoiMzQ0IiwiZW50ZXJlZEF0IjoiMjAyMi0xMC0xOFQxMjoxMTo0OC44OTM5ODFaIn0seyJpZCI6Ijk3IiwicGxhdGZvcm0iOiJVYnVudHUiLCJ1c2VySWQiOiI1NTUiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE4VDEyOjAzOjIwLjQ3OTI2NVoifSx7ImlkIjoiOTYiLCJwbGF0Zm9ybSI6IkFuZHJvaWQiLCJ1c2VySWQiOiI5OTkiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE4VDEyOjAzOjIwLjQ3MDMxNVoifSx7ImlkIjoiOTUiLCJwbGF0Zm9ybSI6IklvcyIsInVzZXJJZCI6IjExMSIsImVudGVyZWRBdCI6IjIwMjItMTAtMThUMTI6MDM6MjAuNDYyODE0WiJ9LHsiaWQiOiI5NCIsInBsYXRmb3JtIjoiVWJ1bnR1IiwidXNlcklkIjoiNTU1IiwiZW50ZXJlZEF0IjoiMjAyMi0xMC0xOFQxMjowMzoyMC40NTcyNzFaIn0seyJpZCI6IjkzIiwicGxhdGZvcm0iOiJBbmRyb2lkIiwidXNlcklkIjoiOTk5IiwiZW50ZXJlZEF0IjoiMjAyMi0xMC0xOFQxMjowMzoyMC40NTIxMjdaIn1dfQ==","url":"http://127.0.0.1:8080/api/v1/devices?page=1&perPage=20","status_code":200}
=== RUN   TestListDevices/Get_devices#02
{"level":"info","ts":1666199731.359581,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"GET /api/v1/devices?page=2&perPage=10 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices?page=2&perPage=10"}
{"level":"info","ts":1666199731.3627799,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogOTAwDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24NCkRhdGU6IFdlZCwgMTkgT2N0IDIwMjIgMTc6MTU6MzEgR01UDQpHcnBjLU1ldGFkYXRhLUNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vZ3JwYw0KU2VydmVyOiBuZ2lueC8xLjIwLjINCg0KeyJpdGVtcyI6W3siaWQiOiIxMDUiLCJwbGF0Zm9ybSI6IkFuZHJvaWQiLCJ1c2VySWQiOiI5OTkiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE4VDEyOjIwOjAzLjcxOTU3MloifSx7ImlkIjoiMTA0IiwicGxhdGZvcm0iOiJJb3MiLCJ1c2VySWQiOiIxMTEiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE4VDEyOjIwOjAzLjY5OTM3N1oifSx7ImlkIjoiMTAwIiwicGxhdGZvcm0iOiJBbmRyb2lkIiwidXNlcklkIjoiMzIxIiwiZW50ZXJlZEF0IjoiMjAyMi0xMC0xOFQxMjoxMTo0OC45MjM2OTdaIn0seyJpZCI6Ijk5IiwicGxhdGZvcm0iOiJJb3MiLCJ1c2VySWQiOiI4NzYiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE4VDEyOjExOjQ4LjkxMzQzM1oifSx7ImlkIjoiOTgiLCJwbGF0Zm9ybSI6IkFuZHJvaWQiLCJ1c2VySWQiOiIzNDQiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE4VDEyOjExOjQ4Ljg5Mzk4MVoifSx7ImlkIjoiOTciLCJwbGF0Zm9ybSI6IlVidW50dSIsInVzZXJJZCI6IjU1NSIsImVudGVyZWRBdCI6IjIwMjItMTAtMThUMTI6MDM6MjAuNDc5MjY1WiJ9LHsiaWQiOiI5NiIsInBsYXRmb3JtIjoiQW5kcm9pZCIsInVzZXJJZCI6Ijk5OSIsImVudGVyZWRBdCI6IjIwMjItMTAtMThUMTI6MDM6MjAuNDcwMzE1WiJ9LHsiaWQiOiI5NSIsInBsYXRmb3JtIjoiSW9zIiwidXNlcklkIjoiMTExIiwiZW50ZXJlZEF0IjoiMjAyMi0xMC0xOFQxMjowMzoyMC40NjI4MTRaIn0seyJpZCI6Ijk0IiwicGxhdGZvcm0iOiJVYnVudHUiLCJ1c2VySWQiOiI1NTUiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE4VDEyOjAzOjIwLjQ1NzI3MVoifSx7ImlkIjoiOTMiLCJwbGF0Zm9ybSI6IkFuZHJvaWQiLCJ1c2VySWQiOiI5OTkiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE4VDEyOjAzOjIwLjQ1MjEyN1oifV19","url":"http://127.0.0.1:8080/api/v1/devices?page=2&perPage=10","status_code":200}
=== RUN   TestListDevices/Get_devices#03
{"level":"info","ts":1666199731.362896,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"GET /api/v1/devices?page=0&perPage=10 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices?page=0&perPage=10"}
{"level":"info","ts":1666199731.367597,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgNTAwIEludGVybmFsIFNlcnZlciBFcnJvcg0KQ29udGVudC1MZW5ndGg6IDgwDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24NCkRhdGU6IFdlZCwgMTkgT2N0IDIwMjIgMTc6MTU6MzEgR01UDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImNvZGUiOjEzLCJtZXNzYWdlIjoiRVJST1I6IGJpZ2ludCBvdXQgb2YgcmFuZ2UgKFNRTFNUQVRFIDIyMDAzKSIsImRldGFpbHMiOltdfQ==","url":"http://127.0.0.1:8080/api/v1/devices?page=0&perPage=10","status_code":500}
{"level":"info","ts":1666199732.368137,"caller":"logger/logger.go:46","msg":"Retry request 1","request":"GET /api/v1/devices?page=0&perPage=10 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices?page=0&perPage=10"}
{"level":"info","ts":1666199732.39374,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgNTAwIEludGVybmFsIFNlcnZlciBFcnJvcg0KQ29udGVudC1MZW5ndGg6IDgwDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24NCkRhdGU6IFdlZCwgMTkgT2N0IDIwMjIgMTc6MTU6MzIgR01UDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImNvZGUiOjEzLCJtZXNzYWdlIjoiRVJST1I6IGJpZ2ludCBvdXQgb2YgcmFuZ2UgKFNRTFNUQVRFIDIyMDAzKSIsImRldGFpbHMiOltdfQ==","url":"http://127.0.0.1:8080/api/v1/devices?page=0&perPage=10","status_code":500}
{"level":"info","ts":1666199734.397537,"caller":"logger/logger.go:46","msg":"Retry request 2","request":"GET /api/v1/devices?page=0&perPage=10 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices?page=0&perPage=10"}
{"level":"info","ts":1666199734.4316921,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgNTAwIEludGVybmFsIFNlcnZlciBFcnJvcg0KQ29udGVudC1MZW5ndGg6IDgwDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24NCkRhdGU6IFdlZCwgMTkgT2N0IDIwMjIgMTc6MTU6MzQgR01UDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImNvZGUiOjEzLCJtZXNzYWdlIjoiRVJST1I6IGJpZ2ludCBvdXQgb2YgcmFuZ2UgKFNRTFNUQVRFIDIyMDAzKSIsImRldGFpbHMiOltdfQ==","url":"http://127.0.0.1:8080/api/v1/devices?page=0&perPage=10","status_code":500}
{"level":"info","ts":1666199738.432235,"caller":"logger/logger.go:46","msg":"Retry request 3","request":"GET /api/v1/devices?page=0&perPage=10 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices?page=0&perPage=10"}
{"level":"info","ts":1666199738.440161,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgNTAwIEludGVybmFsIFNlcnZlciBFcnJvcg0KQ29udGVudC1MZW5ndGg6IDgwDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24NCkRhdGU6IFdlZCwgMTkgT2N0IDIwMjIgMTc6MTU6MzggR01UDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImNvZGUiOjEzLCJtZXNzYWdlIjoiRVJST1I6IGJpZ2ludCBvdXQgb2YgcmFuZ2UgKFNRTFNUQVRFIDIyMDAzKSIsImRldGFpbHMiOltdfQ==","url":"http://127.0.0.1:8080/api/v1/devices?page=0&perPage=10","status_code":500}
{"level":"info","ts":1666199746.441205,"caller":"logger/logger.go:46","msg":"Retry request 4","request":"GET /api/v1/devices?page=0&perPage=10 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices?page=0&perPage=10"}
{"level":"info","ts":1666199746.456355,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgNTAwIEludGVybmFsIFNlcnZlciBFcnJvcg0KQ29udGVudC1MZW5ndGg6IDgwDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24NCkRhdGU6IFdlZCwgMTkgT2N0IDIwMjIgMTc6MTU6NDYgR01UDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImNvZGUiOjEzLCJtZXNzYWdlIjoiRVJST1I6IGJpZ2ludCBvdXQgb2YgcmFuZ2UgKFNRTFNUQVRFIDIyMDAzKSIsImRldGFpbHMiOltdfQ==","url":"http://127.0.0.1:8080/api/v1/devices?page=0&perPage=10","status_code":500}
{"level":"info","ts":1666199756.457684,"caller":"logger/logger.go:46","msg":"Retry request 5","request":"GET /api/v1/devices?page=0&perPage=10 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices?page=0&perPage=10"}
{"level":"info","ts":1666199756.4928389,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgNTAwIEludGVybmFsIFNlcnZlciBFcnJvcg0KQ29udGVudC1MZW5ndGg6IDgwDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24NCkRhdGU6IFdlZCwgMTkgT2N0IDIwMjIgMTc6MTU6NTYgR01UDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImNvZGUiOjEzLCJtZXNzYWdlIjoiRVJST1I6IGJpZ2ludCBvdXQgb2YgcmFuZ2UgKFNRTFNUQVRFIDIyMDAzKSIsImRldGFpbHMiOltdfQ==","url":"http://127.0.0.1:8080/api/v1/devices?page=0&perPage=10","status_code":500}
--- PASS: TestListDevices (25.15s)
    --- PASS: TestListDevices/Get_devices (0.00s)
    --- PASS: TestListDevices/Get_devices#01 (0.01s)
    --- PASS: TestListDevices/Get_devices#02 (0.00s)
    --- PASS: TestListDevices/Get_devices#03 (25.13s)
=== RUN   TestDeleteDevice
=== RUN   TestDeleteDevice/Delete_device
{"level":"info","ts":1666199756.49364,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"POST /api/v1/devices HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Ios\",\"userId\":\"5342\"}\n","url":"http://127.0.0.1:8080/api/v1/devices"}
{"level":"info","ts":1666199756.504338,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTgNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImRldmljZUlkIjoiMTIyIn0=","url":"http://127.0.0.1:8080/api/v1/devices","status_code":200}
{"level":"info","ts":1666199756.504436,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"DELETE /api/v1/devices/122 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices/122"}
{"level":"info","ts":1666199756.508824,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTQNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImZvdW5kIjp0cnVlfQ==","url":"http://127.0.0.1:8080/api/v1/devices/122","status_code":200}
=== RUN   TestDeleteDevice/Delete_device#01
{"level":"info","ts":1666199756.5089412,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"POST /api/v1/devices HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Android\",\"userId\":\"35456435\"}\n","url":"http://127.0.0.1:8080/api/v1/devices"}
{"level":"info","ts":1666199756.515123,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTgNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImRldmljZUlkIjoiMTIzIn0=","url":"http://127.0.0.1:8080/api/v1/devices","status_code":200}
{"level":"info","ts":1666199756.51516,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"DELETE /api/v1/devices/123 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices/123"}
{"level":"info","ts":1666199756.5214741,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTQNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImZvdW5kIjp0cnVlfQ==","url":"http://127.0.0.1:8080/api/v1/devices/123","status_code":200}
=== RUN   TestDeleteDevice/Delete_device#02
{"level":"info","ts":1666199756.5215518,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"POST /api/v1/devices HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Ubuntu\",\"userId\":\"4353452\"}\n","url":"http://127.0.0.1:8080/api/v1/devices"}
{"level":"info","ts":1666199756.5255628,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTgNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImRldmljZUlkIjoiMTI0In0=","url":"http://127.0.0.1:8080/api/v1/devices","status_code":200}
{"level":"info","ts":1666199756.525675,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"DELETE /api/v1/devices/124 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices/124"}
{"level":"info","ts":1666199756.5302742,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTQNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImZvdW5kIjp0cnVlfQ==","url":"http://127.0.0.1:8080/api/v1/devices/124","status_code":200}
--- PASS: TestDeleteDevice (0.04s)
    --- PASS: TestDeleteDevice/Delete_device (0.02s)
    --- PASS: TestDeleteDevice/Delete_device#01 (0.01s)
    --- PASS: TestDeleteDevice/Delete_device#02 (0.01s)
=== RUN   TestUpdateDevice
=== RUN   TestUpdateDevice/Update_device
{"level":"info","ts":1666199756.5303948,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"POST /api/v1/devices HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Ios\",\"userId\":\"111\"}\n","url":"http://127.0.0.1:8080/api/v1/devices"}
{"level":"info","ts":1666199756.533317,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTgNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImRldmljZUlkIjoiMTI1In0=","url":"http://127.0.0.1:8080/api/v1/devices","status_code":200}
{"level":"info","ts":1666199756.533393,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"PUT /api/v1/devices/125 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Android\",\"userId\":\"344\"}\n","url":"http://127.0.0.1:8080/api/v1/devices/125"}
{"level":"info","ts":1666199756.536704,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTYNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7InN1Y2Nlc3MiOnRydWV9","url":"http://127.0.0.1:8080/api/v1/devices/125","status_code":200}
=== RUN   TestUpdateDevice/Update_device#01
{"level":"info","ts":1666199756.536789,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"POST /api/v1/devices HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Android\",\"userId\":\"999\"}\n","url":"http://127.0.0.1:8080/api/v1/devices"}
{"level":"info","ts":1666199756.5397918,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTgNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImRldmljZUlkIjoiMTI2In0=","url":"http://127.0.0.1:8080/api/v1/devices","status_code":200}
{"level":"info","ts":1666199756.5398889,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"PUT /api/v1/devices/126 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Ios\",\"userId\":\"876\"}\n","url":"http://127.0.0.1:8080/api/v1/devices/126"}
{"level":"info","ts":1666199756.543006,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTYNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7InN1Y2Nlc3MiOnRydWV9","url":"http://127.0.0.1:8080/api/v1/devices/126","status_code":200}
=== RUN   TestUpdateDevice/Update_device#02
{"level":"info","ts":1666199756.543222,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"POST /api/v1/devices HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Ubuntu\",\"userId\":\"555\"}\n","url":"http://127.0.0.1:8080/api/v1/devices"}
{"level":"info","ts":1666199756.546279,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTgNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImRldmljZUlkIjoiMTI3In0=","url":"http://127.0.0.1:8080/api/v1/devices","status_code":200}
{"level":"info","ts":1666199756.546356,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"PUT /api/v1/devices/127 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Android\",\"userId\":\"321\"}\n","url":"http://127.0.0.1:8080/api/v1/devices/127"}
{"level":"info","ts":1666199756.5497239,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTYNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7InN1Y2Nlc3MiOnRydWV9","url":"http://127.0.0.1:8080/api/v1/devices/127","status_code":200}
--- PASS: TestUpdateDevice (0.02s)
    --- PASS: TestUpdateDevice/Update_device (0.01s)
    --- PASS: TestUpdateDevice/Update_device#01 (0.01s)
    --- PASS: TestUpdateDevice/Update_device#02 (0.01s)
=== RUN   TestCreateDevice
=== RUN   TestCreateDevice/Create_device
{"level":"info","ts":1666199756.549972,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"POST /api/v1/devices HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Ios\",\"userId\":\"111\"}\n","url":"http://127.0.0.1:8080/api/v1/devices"}
{"level":"info","ts":1666199756.553051,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTgNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImRldmljZUlkIjoiMTI4In0=","url":"http://127.0.0.1:8080/api/v1/devices","status_code":200}
=== RUN   TestCreateDevice/Create_device#01
{"level":"info","ts":1666199756.553186,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"POST /api/v1/devices HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Android\",\"userId\":\"999\"}\n","url":"http://127.0.0.1:8080/api/v1/devices"}
{"level":"info","ts":1666199756.5562592,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTgNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImRldmljZUlkIjoiMTI5In0=","url":"http://127.0.0.1:8080/api/v1/devices","status_code":200}
=== RUN   TestCreateDevice/Create_device#02
{"level":"info","ts":1666199756.556353,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"POST /api/v1/devices HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Ubuntu\",\"userId\":\"555\"}\n","url":"http://127.0.0.1:8080/api/v1/devices"}
{"level":"info","ts":1666199756.559886,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTgNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImRldmljZUlkIjoiMTMwIn0=","url":"http://127.0.0.1:8080/api/v1/devices","status_code":200}
=== RUN   TestCreateDevice/Create_device_and_check_description
{"level":"info","ts":1666199756.559996,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"POST /api/v1/devices HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Ios\",\"userId\":\"111\"}\n","url":"http://127.0.0.1:8080/api/v1/devices"}
{"level":"info","ts":1666199756.563571,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTgNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImRldmljZUlkIjoiMTMxIn0=","url":"http://127.0.0.1:8080/api/v1/devices","status_code":200}
{"level":"info","ts":1666199756.563654,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"GET /api/v1/devices/131 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices/131"}
{"level":"info","ts":1666199756.5657861,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogOTYNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7InZhbHVlIjp7ImlkIjoiMTMxIiwicGxhdGZvcm0iOiJJb3MiLCJ1c2VySWQiOiIxMTEiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE5VDE3OjE1OjU2LjU2NTcxNVoifX0=","url":"http://127.0.0.1:8080/api/v1/devices/131","status_code":200}
=== RUN   TestCreateDevice/Create_device_and_check_description#01
{"level":"info","ts":1666199756.565927,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"POST /api/v1/devices HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Android\",\"userId\":\"999\"}\n","url":"http://127.0.0.1:8080/api/v1/devices"}
{"level":"info","ts":1666199756.568985,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTgNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImRldmljZUlkIjoiMTMyIn0=","url":"http://127.0.0.1:8080/api/v1/devices","status_code":200}
{"level":"info","ts":1666199756.569084,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"GET /api/v1/devices/132 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices/132"}
{"level":"info","ts":1666199756.5708349,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTAwDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24NCkRhdGU6IFdlZCwgMTkgT2N0IDIwMjIgMTc6MTU6NTYgR01UDQpHcnBjLU1ldGFkYXRhLUNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vZ3JwYw0KU2VydmVyOiBuZ2lueC8xLjIwLjINCg0KeyJ2YWx1ZSI6eyJpZCI6IjEzMiIsInBsYXRmb3JtIjoiQW5kcm9pZCIsInVzZXJJZCI6Ijk5OSIsImVudGVyZWRBdCI6IjIwMjItMTAtMTlUMTc6MTU6NTYuNTcxMTkxWiJ9fQ==","url":"http://127.0.0.1:8080/api/v1/devices/132","status_code":200}
=== RUN   TestCreateDevice/Create_device_and_check_description#02
{"level":"info","ts":1666199756.571008,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"POST /api/v1/devices HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"Ubuntu\",\"userId\":\"555\"}\n","url":"http://127.0.0.1:8080/api/v1/devices"}
{"level":"info","ts":1666199756.573766,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogMTgNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImRldmljZUlkIjoiMTMzIn0=","url":"http://127.0.0.1:8080/api/v1/devices","status_code":200}
{"level":"info","ts":1666199756.5738308,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"GET /api/v1/devices/133 HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n","url":"http://127.0.0.1:8080/api/v1/devices/133"}
{"level":"info","ts":1666199756.575568,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LUxlbmd0aDogOTkNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbg0KRGF0ZTogV2VkLCAxOSBPY3QgMjAyMiAxNzoxNTo1NiBHTVQNCkdycGMtTWV0YWRhdGEtQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9ncnBjDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7InZhbHVlIjp7ImlkIjoiMTMzIiwicGxhdGZvcm0iOiJVYnVudHUiLCJ1c2VySWQiOiI1NTUiLCJlbnRlcmVkQXQiOiIyMDIyLTEwLTE5VDE3OjE1OjU2LjU3NjQxMVoifX0=","url":"http://127.0.0.1:8080/api/v1/devices/133","status_code":200}
=== RUN   TestCreateDevice/Create_device_Negative
{"level":"info","ts":1666199756.575765,"caller":"logger/logger.go:46","msg":"Retry request 0","request":"POST /api/v1/devices HTTP/1.1\r\nHost: 127.0.0.1:8080\r\n\r\n{\"platform\":\"\",\"userId\":\"665\"}\n","url":"http://127.0.0.1:8080/api/v1/devices"}
{"level":"info","ts":1666199756.577408,"caller":"logger/logger.go:46","msg":"Responded","response":"SFRUUC8xLjEgNDAwIEJhZCBSZXF1ZXN0DQpDb250ZW50LUxlbmd0aDogMTEzDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24NCkRhdGU6IFdlZCwgMTkgT2N0IDIwMjIgMTc6MTU6NTYgR01UDQpTZXJ2ZXI6IG5naW54LzEuMjAuMg0KDQp7ImNvZGUiOjMsIm1lc3NhZ2UiOiJpbnZhbGlkIENyZWF0ZURldmljZVYxUmVxdWVzdC5QbGF0Zm9ybTogdmFsdWUgbGVuZ3RoIG11c3QgYmUgYXQgbGVhc3QgMSBydW5lcyIsImRldGFpbHMiOltdfQ==","url":"http://127.0.0.1:8080/api/v1/devices","status_code":400}
{"level":"dpanic","ts":1666199756.577595,"caller":"zap@v1.13.0/sugar.go:191","msg":"Ignored key without a value.","ignored":400,"stacktrace":"gitlab.ozon.dev/qa/classroom-4/act-device-api/internal/pkg/logger.ErrorKV\n\t/Users/nvinnikov/Documents/ozon/device-api/internal/pkg/logger/logger.go:41\ngitlab.ozon.dev/qa/classroom-4/act-device-api/test/http_test/client.(*client).CreateDevice\n\t/Users/nvinnikov/Documents/ozon/device-api/test/http_test/client/client.go:118\ngitlab.ozon.dev/qa/classroom-4/act-device-api/test/http_test_test.TestCreateDevice.func3\n\t/Users/nvinnikov/Documents/ozon/device-api/test/http_test/сreate_device_v1_test.go:89\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.19.1/libexec/src/testing/testing.go:1446"}
{"level":"error","ts":1666199756.577455,"caller":"logger/logger.go:41","msg":"Bad status code","stacktrace":"gitlab.ozon.dev/qa/classroom-4/act-device-api/internal/pkg/logger.ErrorKV\n\t/Users/nvinnikov/Documents/ozon/device-api/internal/pkg/logger/logger.go:41\ngitlab.ozon.dev/qa/classroom-4/act-device-api/test/http_test/client.(*client).CreateDevice\n\t/Users/nvinnikov/Documents/ozon/device-api/test/http_test/client/client.go:118\ngitlab.ozon.dev/qa/classroom-4/act-device-api/test/http_test_test.TestCreateDevice.func3\n\t/Users/nvinnikov/Documents/ozon/device-api/test/http_test/сreate_device_v1_test.go:89\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.19.1/libexec/src/testing/testing.go:1446"}
--- PASS: TestCreateDevice (0.05s)
    --- PASS: TestCreateDevice/Create_device (0.00s)
    --- PASS: TestCreateDevice/Create_device#01 (0.00s)
    --- PASS: TestCreateDevice/Create_device#02 (0.00s)
    --- PASS: TestCreateDevice/Create_device_and_check_description (0.01s)
    --- PASS: TestCreateDevice/Create_device_and_check_description#01 (0.01s)
    --- PASS: TestCreateDevice/Create_device_and_check_description#02 (0.00s)
    --- PASS: TestCreateDevice/Create_device_Negative (0.02s)
PASS
ok  	gitlab.ozon.dev/qa/classroom-4/act-device-api/test/http_test	25.426s
